{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Movie } from '../movies.model';\nlet MovieEditComponent = class MovieEditComponent {\n  constructor(route, router, moviesService) {\n    this.route = route;\n    this.router = router;\n    this.moviesService = moviesService;\n    this.editMode = false;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const id = params['id'];\n      if (!id) {\n        this.editMode = false;\n        return;\n      }\n      this.originalMovie = this.moviesService.getMovie(id);\n      if (!this.originalMovie) {\n        return;\n      }\n      this.editMode = true;\n      this.movie = JSON.parse(JSON.stringify(this.originalMovie));\n    });\n  }\n  onCancel() {\n    this.router.navigate(['/movies'], {\n      relativeTo: this.route\n    });\n  }\n  onSubmit(form) {\n    const values = form.value;\n    const newMovie = new Movie('', values.name, values.description, values.trailerUrl, values.image, '');\n    if (this.editMode === true) {\n      this.moviesService.updateMovie(this.originalMovie, newMovie);\n    } else {\n      this.moviesService.addMovie(newMovie);\n    }\n    this.router.navigate(['/movies'], {\n      relativeTo: this.route\n    });\n  }\n};\nMovieEditComponent = __decorate([Component({\n  selector: 'app-movie-edit',\n  templateUrl: './movie-edit.component.html',\n  styleUrls: ['./movie-edit.component.css']\n})], MovieEditComponent);\nexport { MovieEditComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAC5D,SAASC,KAAK,QAAQ,iBAAiB;AAUhC,IAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAM7BC,YACUC,KAAqB,EACrBC,MAAc,EACdC,aAA2B;IAF3B,UAAK,GAALF,KAAK;IACL,WAAM,GAANC,MAAM;IACN,kBAAa,GAAbC,aAAa;IALvB,aAAQ,GAAY,KAAK;EAKgB;EAGzCC,QAAQ;IACN,IAAI,CAACH,KAAK,CAACI,MAAM,CAACC,SAAS,CACxBD,MAAc,IAAI;MACjB,MAAME,EAAE,GAAGF,MAAM,CAAC,IAAI,CAAC;MAEvB,IAAI,CAACE,EAAE,EAAE;QACP,IAAI,CAACC,QAAQ,GAAG,KAAK;QACrB;;MAGF,IAAI,CAACC,aAAa,GAAG,IAAI,CAACN,aAAa,CAACO,QAAQ,CAACH,EAAE,CAAC;MAEpD,IAAI,CAAC,IAAI,CAACE,aAAa,EAAE;QACvB;;MAGF,IAAI,CAACD,QAAQ,GAAG,IAAI;MACpB,IAAI,CAACG,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAACL,aAAa,CAAC,CAAC;IAC7D,CAAC,CACF;EACH;EAEAM,QAAQ;IACN,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,SAAS,CAAC,EAAE;MAAEC,UAAU,EAAE,IAAI,CAAChB;IAAK,CAAE,CAAC;EAC/D;EAEAiB,QAAQ,CAACC,IAAY;IACnB,MAAMC,MAAM,GAAGD,IAAI,CAACE,KAAK;IAEzB,MAAMC,QAAQ,GAAG,IAAIxB,KAAK,CAAC,EAAE,EAAEsB,MAAM,CAACG,IAAI,EAAEH,MAAM,CAACI,WAAW,EAAEJ,MAAM,CAACK,UAAU,EAAEL,MAAM,CAACM,KAAK,EAAE,EAAE,CAAC;IAEpG,IAAI,IAAI,CAAClB,QAAQ,KAAK,IAAI,EAAE;MAC1B,IAAI,CAACL,aAAa,CAACwB,WAAW,CAAC,IAAI,CAAClB,aAAa,EAAEa,QAAQ,CAAC;KAC7D,MAAM;MACL,IAAI,CAACnB,aAAa,CAACyB,QAAQ,CAACN,QAAQ,CAAC;;IAGvC,IAAI,CAACpB,MAAM,CAACc,QAAQ,CAAC,CAAC,SAAS,CAAC,EAAE;MAAEC,UAAU,EAAE,IAAI,CAAChB;IAAK,CAAE,CAAC;EAC/D;CACD;AAnDYF,kBAAkB,eAL9BF,SAAS,CAAC;EACTgC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,GACWhC,kBAAkB,CAmD9B;SAnDYA,kBAAkB","names":["Component","Movie","MovieEditComponent","constructor","route","router","moviesService","ngOnInit","params","subscribe","id","editMode","originalMovie","getMovie","movie","JSON","parse","stringify","onCancel","navigate","relativeTo","onSubmit","form","values","value","newMovie","name","description","trailerUrl","image","updateMovie","addMovie","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/emilianomassai/Documents/GitHub/WDD_430_Final_Project/cms/src/app/movies/movie-edit/movie-edit.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Movie } from '../movies.model';\nimport { NgForm } from '@angular/forms';\nimport { MovieService } from '../movie.service';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-movie-edit',\n  templateUrl: './movie-edit.component.html',\n  styleUrls: ['./movie-edit.component.css']\n})\nexport class MovieEditComponent implements OnInit {\n\n  originalMovie!: Movie;\n  movie!: Movie;\n  editMode: boolean = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private moviesService: MovieService) { }\n\n\n  ngOnInit(): void {\n    this.route.params.subscribe(\n      (params: Params) => {\n        const id = params['id'];\n\n        if (!id) {\n          this.editMode = false;\n          return;\n        }\n\n        this.originalMovie = this.moviesService.getMovie(id);\n\n        if (!this.originalMovie) {\n          return;\n        }\n\n        this.editMode = true;\n        this.movie = JSON.parse(JSON.stringify(this.originalMovie));\n      }\n    )\n  }\n\n  onCancel() {\n    this.router.navigate(['/movies'], { relativeTo: this.route });\n  }\n\n  onSubmit(form: NgForm) {\n    const values = form.value;\n\n    const newMovie = new Movie('', values.name, values.description, values.trailerUrl, values.image, '');\n\n    if (this.editMode === true) {\n      this.moviesService.updateMovie(this.originalMovie, newMovie);\n    } else {\n      this.moviesService.addMovie(newMovie);\n    }\n\n    this.router.navigate(['/movies'], { relativeTo: this.route });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}