{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MoviesDetailComponent = class MoviesDetailComponent {\n  constructor(movieService, windowRefService, route, sanitizer, router) {\n    this.movieService = movieService;\n    this.windowRefService = windowRefService;\n    this.route = route;\n    this.sanitizer = sanitizer;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n      this.movie = this.movieService.getMovie(this.id);\n      if (this.movie == null) {\n        this.subscription = this.movieService.movieListChangedEvent.subscribe(() => {\n          this.movie = this.movieService.getMovie(params['id']);\n        });\n      }\n    });\n    this.nativeWindow = this.windowRefService.getNativeWindow();\n  }\n  onDelete() {\n    this.movieService.deleteMovie(this.movie);\n    this.router.navigate(['/movies'], {\n      relativeTo: this.route\n    });\n  }\n  // TO CHANGE THIS WITH REAL DATA\n  onEdit() {}\n  ngOnDestroy() {\n    if (this.subscription) this.subscription.unsubscribe();\n  }\n};\nMoviesDetailComponent = __decorate([Component({\n  selector: 'app-movies-detail',\n  templateUrl: './movies-detail.component.html',\n  styleUrls: ['./movies-detail.component.css']\n})], MoviesDetailComponent);\nexport { MoviesDetailComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAarD,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAOhCC,YACUC,YAA2B,EAC3BC,gBAAgC,EAChCC,KAAqB,EACtBC,SAAuB,EACtBC,MAAc;IAJd,iBAAY,GAAZJ,YAAY;IACZ,qBAAgB,GAAhBC,gBAAgB;IAChB,UAAK,GAALC,KAAK;IACN,cAAS,GAATC,SAAS;IACR,WAAM,GAANC,MAAM;EAAY;EAE5BC,QAAQ;IAEN,IAAI,CAACH,KAAK,CAACI,MAAM,CAACC,SAAS,CACxBD,MAAc,IAAI;MACjB,IAAI,CAACE,EAAE,GAAGF,MAAM,CAAC,IAAI,CAAC;MACtB,IAAI,CAACG,KAAK,GAAG,IAAI,CAACT,YAAY,CAACU,QAAQ,CAAC,IAAI,CAACF,EAAE,CAAC;MAEhD,IAAI,IAAI,CAACC,KAAK,IAAI,IAAI,EAAE;QACtB,IAAI,CAACE,YAAY,GAAG,IAAI,CAACX,YAAY,CAACY,qBAAqB,CAACL,SAAS,CAAC,MAAK;UACzE,IAAI,CAACE,KAAK,GAAG,IAAI,CAACT,YAAY,CAACU,QAAQ,CAACJ,MAAM,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC,CACA;;IAEL,CAAC,CAAC;IAEJ,IAAI,CAACO,YAAY,GAAG,IAAI,CAACZ,gBAAgB,CAACa,eAAe,EAAE;EAG7D;EAGAC,QAAQ;IACN,IAAI,CAACf,YAAY,CAACgB,WAAW,CAAC,IAAI,CAACP,KAAK,CAAC;IACzC,IAAI,CAACL,MAAM,CAACa,QAAQ,CAAC,CAAC,SAAS,CAAC,EAAE;MAAEC,UAAU,EAAE,IAAI,CAAChB;IAAK,CAAE,CAAC;EAC/D;EAGA;EACAiB,MAAM,IAEN;EAEAC,WAAW;IACT,IAAI,IAAI,CAACT,YAAY,EACnB,IAAI,CAACA,YAAY,CAACU,WAAW,EAAE;EACnC;CACD;AAlDYvB,qBAAqB,eALjCD,SAAS,CAAC;EACTyB,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,GACW1B,qBAAqB,CAkDjC;SAlDYA,qBAAqB","names":["Component","MoviesDetailComponent","constructor","movieService","windowRefService","route","sanitizer","router","ngOnInit","params","subscribe","id","movie","getMovie","subscription","movieListChangedEvent","nativeWindow","getNativeWindow","onDelete","deleteMovie","navigate","relativeTo","onEdit","ngOnDestroy","unsubscribe","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/emilianomassai/Documents/GitHub/WDD_430_Final_Project/cms/src/app/movies/movies-detail/movies-detail.component.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { MovieService } from '../movie.service';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Movie } from '../movies.model';\nimport { WindRefService } from 'src/app/wind-ref.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-movies-detail',\n  templateUrl: './movies-detail.component.html',\n  styleUrls: ['./movies-detail.component.css']\n})\nexport class MoviesDetailComponent implements OnInit, OnDestroy {\n\n  movie!: Movie;\n  id!: string;\n  nativeWindow: any;\n  subscription!: Subscription;\n\n  constructor(\n    private movieService: MoviesService,\n    private windowRefService: WindRefService,\n    private route: ActivatedRoute,\n    public sanitizer: DomSanitizer,\n    private router: Router) { }\n\n  ngOnInit() {\n\n    this.route.params.subscribe(\n      (params: Params) => {\n        this.id = params['id'];\n        this.movie = this.movieService.getMovie(this.id);\n\n        if (this.movie == null) {\n          this.subscription = this.movieService.movieListChangedEvent.subscribe(() => {\n            this.movie = this.movieService.getMovie(params['id'])\n          }\n          )\n        }\n      })\n\n    this.nativeWindow = this.windowRefService.getNativeWindow();\n\n\n  }\n\n\n  onDelete() {\n    this.movieService.deleteMovie(this.movie);\n    this.router.navigate(['/movies'], { relativeTo: this.route });\n  }\n\n\n  // TO CHANGE THIS WITH REAL DATA\n  onEdit() {\n\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription)\n      this.subscription.unsubscribe();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}