{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ContactDetailComponent = class ContactDetailComponent {\n  constructor(contactService, router, route, sanitizer, http) {\n    this.contactService = contactService;\n    this.router = router;\n    this.route = route;\n    this.sanitizer = sanitizer;\n    this.http = http;\n    this.data = [];\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n      const url = 'https://api.themoviedb.org/3/trending/all/day?api_key=f4ec058abc3d746728270f736f4851fd';\n      // const startUrl = 'https://api.themoviedb.org/3/movie/'\n      // const api_Key = 'f4ec058abc3d746728270f736f4851fd'\n      // const url = startUrl + this.id + '?api_key=' + api_Key\n      console.log('Url ' + url);\n      this.http.get(url).subscribe(res => {\n        this.data = res;\n        this.topRated = this.data.results;\n        console.log('response ' + this.data.results);\n        for (let i = 0; i < this.topRated.length; i++) {\n          if (this.topRated[i].id == this.id) {\n            console.log(\"Movie selected\");\n            console.log(\"Id: \" + this.topRated[i].id);\n            console.log(\"Title: \" + this.topRated[i].title);\n            console.log(\"Overview: \" + this.topRated[i].overview);\n            console.log(\"Poster: \" + this.topRated[i].poster_path);\n            console.log(\"Vote: \" + this.topRated[i].vote_average);\n            console.log(\"Release: \" + this.topRated[i].release_date);\n            console.log(\"homepage: \" + this.topRated[i].homepage);\n            this.contact = this.topRated[i];\n          }\n        }\n      });\n      if (this.contact == null) {\n        this.subscription = this.contactService.contactListChangedEvent.subscribe(() => {});\n      }\n    });\n  }\n  onDelete() {\n    this.contactService.deleteContact(this.contact);\n    this.router.navigateByUrl('/contacts');\n  }\n  ngOnDestroy() {\n    if (this.subscription) this.subscription.unsubscribe();\n  }\n};\nContactDetailComponent = __decorate([Component({\n  selector: 'app-contact-detail',\n  templateUrl: './contact-detail.component.html',\n  styleUrls: ['./contact-detail.component.css']\n})], ContactDetailComponent);\nexport { ContactDetailComponent };","map":{"version":3,"mappings":"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","names":["Component","ContactDetailComponent","constructor","contactService","router","route","sanitizer","http","ngOnInit","params","subscribe","id","url","console","log","get","res","data","topRated","results","i","length","title","overview","poster_path","vote_average","release_date","homepage","contact","subscription","contactListChangedEvent","onDelete","deleteContact","navigateByUrl","ngOnDestroy","unsubscribe","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/emilianomassai/Documents/GitHub/WDD_430_Final_Project/cms/src/app/trendingMovies/trendingMovie-detail/trendingMovie-detail.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Contact } from '../contacts.model';\nimport { ContactService } from '../contact.service';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { HttpClient } from '@angular/common/http';\n\n\n@Component({\n  selector: 'app-contact-detail',\n  templateUrl: './contact-detail.component.html',\n  styleUrls: ['./contact-detail.component.css']\n})\nexport class ContactDetailComponent implements OnInit {\n  contact!: Contact;\n  subscription!: Subscription;\n  data: any = [];\n  topRated: any;\n  id: any;\n\n  constructor(private contactService: ContactService, private router: Router, private route: ActivatedRoute, public sanitizer: DomSanitizer, private http: HttpClient) {\n  }\n\n  ngOnInit() {\n\n    this.route.params.subscribe(\n      (params: Params) => {\n        this.id = params['id'];\n\n        const url = 'https://api.themoviedb.org/3/trending/all/day?api_key=f4ec058abc3d746728270f736f4851fd'\n\n        // const startUrl = 'https://api.themoviedb.org/3/movie/'\n        // const api_Key = 'f4ec058abc3d746728270f736f4851fd'\n        // const url = startUrl + this.id + '?api_key=' + api_Key\n\n        console.log('Url ' + url)\n        this.http.get(url).subscribe((res) => {\n          this.data = res\n          this.topRated = this.data.results\n\n          console.log('response ' + this.data.results)\n          for (let i = 0; i < this.topRated.length; i++) {\n            if (this.topRated[i].id == this.id) {\n\n              console.log(\"Movie selected\")\n              console.log(\"Id: \" + this.topRated[i].id)\n              console.log(\"Title: \" + this.topRated[i].title)\n              console.log(\"Overview: \" + this.topRated[i].overview)\n              console.log(\"Poster: \" + this.topRated[i].poster_path)\n              console.log(\"Vote: \" + this.topRated[i].vote_average)\n              console.log(\"Release: \" + this.topRated[i].release_date)\n              console.log(\"homepage: \" + this.topRated[i].homepage)\n\n              this.contact = this.topRated[i];\n\n            }\n          }\n        })\n\n\n        if (this.contact == null) {\n          this.subscription = this.contactService.contactListChangedEvent.subscribe(() => {\n          }\n          )\n        }\n      })\n\n  }\n\n\n\n  onDelete() {\n    this.contactService.deleteContact(this.contact);\n\n    this.router.navigateByUrl('/contacts');\n  }\n\n\n  ngOnDestroy(): void {\n    if (this.subscription)\n      this.subscription.unsubscribe();\n  }\n\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}