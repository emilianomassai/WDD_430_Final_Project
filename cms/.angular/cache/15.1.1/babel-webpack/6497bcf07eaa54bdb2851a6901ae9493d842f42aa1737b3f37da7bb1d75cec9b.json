{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Document } from '../documents.model';\nlet DocumentEditComponent = class DocumentEditComponent {\n  constructor(route, router, documentsService) {\n    this.route = route;\n    this.router = router;\n    this.documentsService = documentsService;\n    this.editMode = false;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const id = params['id'];\n      if (!id) {\n        this.editMode = false;\n        return;\n      }\n      this.originalDocument = this.documentsService.getDocument(id);\n      if (!this.originalDocument) {\n        return;\n      }\n      this.editMode = true;\n      this.document = JSON.parse(JSON.stringify(this.originalDocument));\n    });\n  }\n  onCancel() {\n    this.router.navigate(['/documents'], {\n      relativeTo: this.route\n    });\n  }\n  onSubmit(form) {\n    const values = form.value;\n    const newDocument = new Document('', values.name, values.description, values.trailerUrl, values.image, '');\n    if (this.editMode === true) {\n      this.documentsService.updateDocument(this.originalDocument, newDocument);\n    } else {\n      this.documentsService.addDocument(newDocument);\n    }\n    this.router.navigate(['/documents'], {\n      relativeTo: this.route\n    });\n  }\n};\nDocumentEditComponent = __decorate([Component({\n  selector: 'app-document-edit',\n  templateUrl: './movie-edit.component.html',\n  styleUrls: ['./movie-edit.component.css']\n})], DocumentEditComponent);\nexport { DocumentEditComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAC5D,SAASC,QAAQ,QAAQ,oBAAoB;AAUtC,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAMhCC,YACUC,KAAqB,EACrBC,MAAc,EACdC,gBAAiC;IAFjC,UAAK,GAALF,KAAK;IACL,WAAM,GAANC,MAAM;IACN,qBAAgB,GAAhBC,gBAAgB;IAL1B,aAAQ,GAAY,KAAK;EAKsB;EAG/CC,QAAQ;IACN,IAAI,CAACH,KAAK,CAACI,MAAM,CAACC,SAAS,CACxBD,MAAc,IAAI;MACjB,MAAME,EAAE,GAAGF,MAAM,CAAC,IAAI,CAAC;MAEvB,IAAI,CAACE,EAAE,EAAE;QACP,IAAI,CAACC,QAAQ,GAAG,KAAK;QACrB;;MAGF,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACN,gBAAgB,CAACO,WAAW,CAACH,EAAE,CAAC;MAE7D,IAAI,CAAC,IAAI,CAACE,gBAAgB,EAAE;QAC1B;;MAGF,IAAI,CAACD,QAAQ,GAAG,IAAI;MACpB,IAAI,CAACG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAACL,gBAAgB,CAAC,CAAC;IACnE,CAAC,CACF;EACH;EAEAM,QAAQ;IACN,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE;MAAEC,UAAU,EAAE,IAAI,CAAChB;IAAK,CAAE,CAAC;EAClE;EAEAiB,QAAQ,CAACC,IAAY;IACnB,MAAMC,MAAM,GAAGD,IAAI,CAACE,KAAK;IAEzB,MAAMC,WAAW,GAAG,IAAIxB,QAAQ,CAAC,EAAE,EAAEsB,MAAM,CAACG,IAAI,EAAEH,MAAM,CAACI,WAAW,EAAEJ,MAAM,CAACK,UAAU,EAAEL,MAAM,CAACM,KAAK,EAAE,EAAE,CAAC;IAE1G,IAAI,IAAI,CAAClB,QAAQ,KAAK,IAAI,EAAE;MAC1B,IAAI,CAACL,gBAAgB,CAACwB,cAAc,CAAC,IAAI,CAAClB,gBAAgB,EAAEa,WAAW,CAAC;KACzE,MAAM;MACL,IAAI,CAACnB,gBAAgB,CAACyB,WAAW,CAACN,WAAW,CAAC;;IAGhD,IAAI,CAACpB,MAAM,CAACc,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE;MAAEC,UAAU,EAAE,IAAI,CAAChB;IAAK,CAAE,CAAC;EAClE;CACD;AAnDYF,qBAAqB,eALjCF,SAAS,CAAC;EACTgC,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,GACWhC,qBAAqB,CAmDjC;SAnDYA,qBAAqB","names":["Component","Document","DocumentEditComponent","constructor","route","router","documentsService","ngOnInit","params","subscribe","id","editMode","originalDocument","getDocument","document","JSON","parse","stringify","onCancel","navigate","relativeTo","onSubmit","form","values","value","newDocument","name","description","trailerUrl","image","updateDocument","addDocument","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/emilianomassai/Documents/GitHub/WDD_430_Final_Project/cms/src/app/documents/document-edit/document-edit.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Document } from '../documents.model';\nimport { NgForm } from '@angular/forms';\nimport { DocumentService } from '../document.service';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-document-edit',\n  templateUrl: './movie-edit.component.html',\n  styleUrls: ['./movie-edit.component.css']\n})\nexport class DocumentEditComponent implements OnInit {\n\n  originalDocument!: Document;\n  document!: Document;\n  editMode: boolean = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private documentsService: DocumentService) { }\n\n\n  ngOnInit(): void {\n    this.route.params.subscribe(\n      (params: Params) => {\n        const id = params['id'];\n\n        if (!id) {\n          this.editMode = false;\n          return;\n        }\n\n        this.originalDocument = this.documentsService.getDocument(id);\n\n        if (!this.originalDocument) {\n          return;\n        }\n\n        this.editMode = true;\n        this.document = JSON.parse(JSON.stringify(this.originalDocument));\n      }\n    )\n  }\n\n  onCancel() {\n    this.router.navigate(['/documents'], { relativeTo: this.route });\n  }\n\n  onSubmit(form: NgForm) {\n    const values = form.value;\n\n    const newDocument = new Document('', values.name, values.description, values.trailerUrl, values.image, '');\n\n    if (this.editMode === true) {\n      this.documentsService.updateDocument(this.originalDocument, newDocument);\n    } else {\n      this.documentsService.addDocument(newDocument);\n    }\n\n    this.router.navigate(['/documents'], { relativeTo: this.route });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}