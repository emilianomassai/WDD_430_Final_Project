{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DocumentsDetailComponent = class DocumentsDetailComponent {\n  constructor(documentService, windowRefService, route, router, sanitizer) {\n    this.documentService = documentService;\n    this.windowRefService = windowRefService;\n    this.route = route;\n    this.router = router;\n    this.sanitizer = sanitizer;\n  }\n  getSanitizedURL() {\n    return this.sanitizer.bypassSecurityTrustUrl(this.yourUrl);\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.id = params['id'];\n      this.document = this.documentService.getDocument(this.id);\n    });\n    this.nativeWindow = this.windowRefService.getNativeWindow();\n  }\n  onView() {\n    if (this.document.trailerUrl) {\n      this.nativeWindow.open(this.document.trailerUrl);\n    }\n  }\n  onDelete() {\n    this.documentService.deleteDocument(this.document);\n    //route back to the '/documents' URL\n    this.router.navigate(['/documents'], {\n      relativeTo: this.route\n    });\n  }\n  // TO CHANGE THIS WITH REAL DATA\n  // this function is updating the existing document with hard coded data \n  onEdit() {\n    // fake updated contact \n    // let testDocument = new Document('2', 'The Book of Mormon', 'Another Testament of Jesus Christ', 'https://www.churchofjesuschrist.org/study/scriptures/bofm?lang=eng', 'child')\n    // this.documentService.updateDocument(this.document, testDocument);\n    // this.router.navigate(['/documents'], { relativeTo: this.route });\n  }\n};\nDocumentsDetailComponent = __decorate([Component({\n  selector: 'app-documents-detail',\n  templateUrl: './documents-detail.component.html',\n  styleUrls: ['./documents-detail.component.css']\n})], DocumentsDetailComponent);\nexport { DocumentsDetailComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAQnCC,YACUC,eAAgC,EAChCC,gBAAgC,EAChCC,KAAqB,EACrBC,MAAc,EACdC,SAAiC;IAJjC,oBAAe,GAAfJ,eAAe;IACf,qBAAgB,GAAhBC,gBAAgB;IAChB,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IACN,cAAS,GAATC,SAAS;EAA4B;EAE/CC,eAAe;IACb,OAAO,IAAI,CAACD,SAAS,CAACE,sBAAsB,CAAC,IAAI,CAACC,OAAO,CAAC;EAC5D;EACAC,QAAQ;IACN,IAAI,CAACN,KAAK,CAACO,MAAM,CAACC,SAAS,CACxBD,MAAc,IAAI;MACjB,IAAI,CAACE,EAAE,GAAGF,MAAM,CAAC,IAAI,CAAC;MACtB,IAAI,CAACG,QAAQ,GAAG,IAAI,CAACZ,eAAe,CAACa,WAAW,CAAC,IAAI,CAACF,EAAE,CAAC;IAC3D,CAAC,CAAC;IAEJ,IAAI,CAACG,YAAY,GAAG,IAAI,CAACb,gBAAgB,CAACc,eAAe,EAAE;EAC7D;EAEAC,MAAM;IACJ,IAAI,IAAI,CAACJ,QAAQ,CAACK,UAAU,EAAE;MAC5B,IAAI,CAACH,YAAY,CAACI,IAAI,CAAC,IAAI,CAACN,QAAQ,CAACK,UAAU,CAAC;;EAEpD;EAEAE,QAAQ;IACN,IAAI,CAACnB,eAAe,CAACoB,cAAc,CAAC,IAAI,CAACR,QAAQ,CAAC;IAClD;IACA,IAAI,CAACT,MAAM,CAACkB,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE;MAAEC,UAAU,EAAE,IAAI,CAACpB;IAAK,CAAE,CAAC;EAClE;EAGA;EACA;EACAqB,MAAM;IACJ;IACA;IAEA;IACA;EAAA;CAIH;AApDYzB,wBAAwB,eALpCD,SAAS,CAAC;EACT2B,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,GACW5B,wBAAwB,CAoDpC;SApDYA,wBAAwB","names":["Component","DocumentsDetailComponent","constructor","documentService","windowRefService","route","router","sanitizer","getSanitizedURL","bypassSecurityTrustUrl","yourUrl","ngOnInit","params","subscribe","id","document","getDocument","nativeWindow","getNativeWindow","onView","trailerUrl","open","onDelete","deleteDocument","navigate","relativeTo","onEdit","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/emilianomassai/Documents/GitHub/WDD_430_Final_Project/cms/src/app/documents/documents-detail/documents-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DocumentService } from '../document.service';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Document } from '../documents.model';\nimport { WindRefService } from 'src/app/wind-ref.service';\nimport { DomSanitizationService } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-documents-detail',\n  templateUrl: './documents-detail.component.html',\n  styleUrls: ['./documents-detail.component.css']\n})\nexport class DocumentsDetailComponent implements OnInit {\n\n  document!: Document;\n  id!: string;\n  nativeWindow: any;\n  yourUrl!: string;\n\n\n  constructor(\n    private documentService: DocumentService,\n    private windowRefService: WindRefService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private sanitizer: DomSanitizationService) { }\n\n  getSanitizedURL() {\n    return this.sanitizer.bypassSecurityTrustUrl(this.yourUrl);\n  }\n  ngOnInit() {\n    this.route.params.subscribe(\n      (params: Params) => {\n        this.id = params['id'];\n        this.document = this.documentService.getDocument(this.id);\n      })\n\n    this.nativeWindow = this.windowRefService.getNativeWindow();\n  }\n\n  onView() {\n    if (this.document.trailerUrl) {\n      this.nativeWindow.open(this.document.trailerUrl);\n    }\n  }\n\n  onDelete() {\n    this.documentService.deleteDocument(this.document);\n    //route back to the '/documents' URL\n    this.router.navigate(['/documents'], { relativeTo: this.route });\n  }\n\n\n  // TO CHANGE THIS WITH REAL DATA\n  // this function is updating the existing document with hard coded data \n  onEdit() {\n    // fake updated contact \n    // let testDocument = new Document('2', 'The Book of Mormon', 'Another Testament of Jesus Christ', 'https://www.churchofjesuschrist.org/study/scriptures/bofm?lang=eng', 'child')\n\n    // this.documentService.updateDocument(this.document, testDocument);\n    // this.router.navigate(['/documents'], { relativeTo: this.route });\n\n\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}